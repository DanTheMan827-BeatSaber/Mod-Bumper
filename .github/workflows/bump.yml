name: ${{ inputs.type }}
on:
  workflow_dispatch:
    inputs:
      type:
        required: true
        type: string
        default: Bump Needed Mods
concurrency:
  group: ${{ inputs.type }}
  cancel-in-progress: true
permissions:
  actions: write
jobs:
  cleanup-runs:
    uses: ./.github/workflows/cleanup-runs.yml
    secrets: inherit
    permissions:
      contents: write
      actions: write
  get-mods:
    runs-on: ubuntu-latest
    outputs:
      packageVersion: ${{ steps.parse-mods.outputs.packageVersion }}
      newestDependencies: ${{ steps.parse-mods.outputs.newestDependencies }}
      bs-cordl: ${{ steps.parse-mods.outputs.bs-cordl }}
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      - name: Setup qpm
        uses: fernthedev/qpm-action@v1
        with:
          workflow_token: ${{ secrets.GITHUB_TOKEN}}
          restore: false
          resolve_ndk: false
          cache: false
      - name: Parse mods.json
        id: parse-mods
        env:
          newestDependencies: '["beatsaber-hook:6.4.2","beatsaverplusplus:0.2.1","bs-cordl:4008.*","bs-utils:0.8.6","conditional-dependencies:0.3.0","config-utils:2.0.3","cpp-semver:0.1.2","custom-types:0.18.3","fmt:11.0.2","kaleb:0.1.9","libcryptopp:8.5.0","libil2cpp:0.4.0","paper2_scotland2:4.6.4","rapidjson-macros:2.1.0","scotland2:0.1.6","sombrero:0.1.43","song-details:1.0.2","tinyxml2:10.0.0","web-utils:0.6.7","bsml:0.4.55","chatplex-sdk-bs:6.4.1","custom-json-data:0.24.3","hollywood:1.2.2","lapiz:0.2.23","metacore:1.5.0","multiplayer-core:1.6.2","playlistcore:1.5.5","songcore:1.1.24","tracks:2.4.4"]'
          cordl: 4008.*
        run: |-
          echo "newestDependencies=$newestDependencies" >> $GITHUB_OUTPUT
          echo "bs-cordl=$cordl" >> $GITHUB_OUTPUT
          pkg_tmp="$(mktemp -d)"

          (
            cd "$pkg_tmp"
            qpm package create "package-test" "0.1.0"
            qpm dependency add bs-cordl -v "$cordl"
            qpm restore --update
            echo "packageVersion=$(cat extern/includes/bs-cordl/include/version.txt)" >> $GITHUB_OUTPUT
          )
          rm -r "$pkg_tmp"

          cat $GITHUB_OUTPUT
      - name: Upload QPM Cache
        uses: ./.github/actions/upload-qpm-cache
        with:
          artifact-name: cache_bs-cordl
  bump-bts-yeeter:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: BTS Yeeter
    with:
      id: bts-yeeter
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/DanTheMan827-BeatSaber/Quest.BtsYeeter.git
      branch: master
      install: false
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-camera-utils:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: CameraUtils
    with:
      id: camera-utils
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Reezonate/CameraUtils-Quest.git
      version: 1.1.11
      branch: master
      install: false
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-datakeeper:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: PlayerDataKeeper
    with:
      id: datakeeper
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/PlayerDataKeeper.git
      branch: master
      install: false
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-DlcSorter:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: DlcSorter
    with:
      id: DlcSorter
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/DanTheMan827-BeatSaber/Quest.DlcSorter.git
      branch: master
      install: false
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-FakeId:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Fake ID
    with:
      id: FakeId
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/DanTheMan827-BeatSaber/Quest.FakeID.git
      branch: main
      install: false
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-morebuttons:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: MoreButtons
    with:
      id: morebuttons
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/MoreButtons.git
      branch: main
      install: false
      qmod_command: pwsh ./scripts/createqmod.ps1
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-NoPromo:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: NoPromo
    with:
      id: NoPromo
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/DanTheMan827-BeatSaber/Quest.NoPromo.git
      branch: master
      install: false
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-bsml:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: BSML
    with:
      id: bsml
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/bsq-ports/Quest-BSML.git
      version: 0.4.55
      branch: master
      install: true
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-songcore:
    needs:
      - get-mods
      - bump-bsml
      - bump-lapiz
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Quest-SongCore
    with:
      id: songcore
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/raineaeternal/Quest-SongCore.git
      version: 1.1.24
      branch: main
      install: true
      installed_mods: '["bsml","lapiz"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-metacore:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: MetaCore
    with:
      id: metacore
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/MetaCore.git
      version: 1.5.0
      branch: main
      install: true
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-lapiz:
    needs:
      - get-mods
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Lapiz
    with:
      id: lapiz
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/raineaeternal/Lapiz.git
      version: 0.2.23
      branch: main
      install: true
      installed_mods: "[]"
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-playlistcore:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: PlaylistCore
    with:
      id: playlistcore
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/PlaylistCore.git
      version: 1.5.5
      branch: main
      install: true
      installed_mods: '["bsml","metacore","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-chatplex-sdk-bs:
    needs:
      - get-mods
      - bump-bsml
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: ChatPlexSDK-BS
    with:
      id: chatplex-sdk-bs
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/hardcpp/QuestChatPlexSDK-BS.git
      version: 6.4.1
      branch: master
      install: true
      installed_mods: '["bsml","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-custom-json-data:
    needs:
      - get-mods
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: CustomJSONData
    with:
      id: custom-json-data
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/bsq-ports/CustomJSONData.git
      version: 0.24.3
      branch: main
      install: true
      installed_mods: '["songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-hollywood:
    needs:
      - get-mods
      - bump-metacore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Hollywood
    with:
      id: hollywood
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Fernthedev/HollywoodQuest.git
      version: 1.2.2
      branch: master
      install: true
      build_command: pip install PyGithub && pip install requests && python3 ./update_ffmpeg.py && qpm s build
      installed_mods: '["metacore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-tracks:
    needs:
      - get-mods
      - bump-custom-json-data
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Tracks
    with:
      id: tracks
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/bsq-ports/Tracks.git
      version: 2.4.4
      branch: master
      install: true
      build_command: rustup install nightly && rustup target add aarch64-linux-android --toolchain nightly && cargo install bindgen-cli && cargo install --locked --git https://github.com/bbqsrc/cargo-ndk.git cargo-ndk && qpm s build
      installed_mods: '["custom-json-data","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-multiplayer-core:
    needs:
      - get-mods
      - bump-bsml
      - bump-lapiz
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: MultiplayerCore
    with:
      id: multiplayer-core
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/EnderdracheLP/MultiplayerCore.Quest.git
      version: 1.6.2
      branch: master
      install: true
      installed_mods: '["bsml","lapiz","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-AntiVertigo:
    needs:
      - get-mods
      - bump-bsml
      - bump-lapiz
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: AntiVertigo
    with:
      id: AntiVertigo
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/FrozenAlex/AntiVertigo.git
      branch: master
      install: false
      installed_mods: '["bsml","lapiz"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-anytext:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: AnyText
    with:
      id: anytext
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/CatsaCode/AnyText.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-BeatLeader:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
      - bump-playlistcore
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: BeatLeader
    with:
      id: BeatLeader
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/BeatLeader/beatleader-qmod.git
      branch: master
      install: false
      installed_mods: '["bsml","metacore","playlistcore","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-BeatTogether:
    needs:
      - get-mods
      - bump-bsml
      - bump-lapiz
      - bump-multiplayer-core
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: BeatTogether
    with:
      id: BeatTogether
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/BeatTogether/BeatTogether.Quest.git
      branch: master
      install: false
      build_command: pwsh build.ps1
      qmod_command: pwsh buildQMOD.ps1 BeatTogether
      installed_mods: '["bsml","lapiz","multiplayer-core"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-BetterSongSearch:
    needs:
      - get-mods
      - bump-bsml
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: BetterSongSearch
    with:
      id: BetterSongSearch
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/bsq-ports/BetterSongSearchQuest.git
      branch: main
      install: false
      installed_mods: '["bsml","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-bomb-qolorer:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Bomb Qolorer
    with:
      id: bomb-qolorer
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/FrozenAlex/bomb-qolorer.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-bsl:
    needs:
      - get-mods
      - bump-bsml
      - bump-playlistcore
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Better Song List
    with:
      id: bsl
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/bsq-ports/BetterSongList.git
      branch: main
      install: false
      installed_mods: '["bsml","playlistcore","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-BSNightcoreQuest:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: BSNightcoreQuest
    with:
      id: BSNightcoreQuest
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Tatenshi/BSNightcoreQuest.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-chroma:
    needs:
      - get-mods
      - bump-bsml
      - bump-custom-json-data
      - bump-songcore
      - bump-tracks
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Chroma
    with:
      id: chroma
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/bsq-ports/Chroma.git
      branch: main
      install: false
      installed_mods: '["bsml","custom-json-data","songcore","tracks"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-ClockMod:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Clock Mod
    with:
      id: ClockMod
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/EnderdracheLP/ClockMod.git
      branch: main
      install: false
      build_command: pwsh build.ps1
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-crashreporter:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: CrashReporter
    with:
      id: crashreporter
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/darknight1050/CrashReporter.git
      branch: master
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-custommodels:
    needs:
      - get-mods
      - bump-bsml
      - bump-lapiz
      - bump-metacore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Custom Models
    with:
      id: custommodels
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/CustomModels.git
      branch: main
      install: false
      qmod_command: pwsh ./scripts/createqmod.ps1
      installed_mods: '["bsml","lapiz","metacore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-emulator-fpfc:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Emulator FPFC
    with:
      id: emulator-fpfc
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/kodenamekrak/Emulator-FPFC.git
      branch: master
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-FasterScroll:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Faster Scroll
    with:
      id: FasterScroll
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/christopherweinhardt/FasterScrollQuest.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-graphicstweaks:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: GraphicsTweaks
    with:
      id: graphicstweaks
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/FrozenAlex/GraphicsTweaks.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-HitScoreVisualizer:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: HitScoreVisualizer
    with:
      id: HitScoreVisualizer
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/christopherweinhardt/HitScoreVisualizer.git
      branch: master
      install: false
      installed_mods: '["bsml","metacore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-HitsoundTweaqs:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: HitsoundTweaqs
    with:
      id: HitsoundTweaqs
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/NSGolova/HitsoundTweaqs.git
      branch: master
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-imagecoverexpander:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: ImageCoverExpander
    with:
      id: imagecoverexpander
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/vcmikuu/ImageCoverExpander.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-IntroSkip:
    needs:
      - get-mods
      - bump-bsml
      - bump-lapiz
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Intro Skip
    with:
      id: IntroSkip
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Royston1999/IntroSkip-Quest.git
      branch: main
      install: false
      build_command: pwsh ./build.ps1
      installed_mods: '["bsml","lapiz"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-jdfixer:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: JDFixer
    with:
      id: jdfixer
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/QuestJDFixer.git
      branch: master
      install: false
      installed_mods: '["bsml","metacore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-MappingExtensions:
    needs:
      - get-mods
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: MappingExtensions
    with:
      id: MappingExtensions
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/rcelyte/MappingExtensions.git
      branch: master
      install: false
      build_command: ln -s extern/libs/* .; NDK="$(cat ndkpath.txt)" make libmappingextensions.so
      qmod_command: qpm qmod zip --skip_build -i . -i extern/libs
      prebump_command: make .obj/mod.json && jq '.dependencies = []' .obj/mod.json > mod.template.json
      installed_mods: '["songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-mod-list:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: ModList
    with:
      id: mod-list
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/DanTheMan827-BeatSaber/Quest.ModList.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-NoodleExtensions:
    needs:
      - get-mods
      - bump-bsml
      - bump-custom-json-data
      - bump-songcore
      - bump-tracks
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Noodle Extensions
    with:
      id: NoodleExtensions
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/bsq-ports/NoodleExtensions.git
      branch: master
      install: false
      installed_mods: '["bsml","custom-json-data","songcore","tracks"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-Nya:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Nya
    with:
      id: Nya
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/FrozenAlex/Nya-quest.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-particletuner:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: ParticleTuner
    with:
      id: particletuner
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/kodenamekrak/ParticleTuner.git
      branch: master
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-Play3rdPer:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Third Person Mod
    with:
      id: Play3rdPer
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Epic17plyz/3rd-Person-Mod.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-playlistdownloader:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
      - bump-playlistcore
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: PlaylistDownloader
    with:
      id: playlistdownloader
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/PlaylistDownloader.git
      branch: main
      install: false
      installed_mods: '["bsml","metacore","playlistcore","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-playlistmanager:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
      - bump-playlistcore
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: PlaylistManager
    with:
      id: playlistmanager
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/PlaylistManager.git
      branch: main
      install: false
      qmod_command: pwsh ./scripts/createqmod.ps1
      installed_mods: '["bsml","metacore","playlistcore","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-qbeatsaberplus-gametweaker:
    needs:
      - get-mods
      - bump-chatplex-sdk-bs
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: QBeatSaberPlus-GameTweaker
    with:
      id: qbeatsaberplus-gametweaker
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/hardcpp/QBeatSaberPlus-GameTweaker.git
      branch: master
      install: false
      installed_mods: '["chatplex-sdk-bs"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-qbeatsaberplus-menumusic:
    needs:
      - get-mods
      - bump-chatplex-sdk-bs
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: QBeatSaberPlus-MenuMusic
    with:
      id: qbeatsaberplus-menumusic
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/hardcpp/QBeatSaberPlus-MenuMusic.git
      branch: master
      install: false
      installed_mods: '["chatplex-sdk-bs","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-qbeatsaberplus-notetweaker:
    needs:
      - get-mods
      - bump-chatplex-sdk-bs
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: QBeatSaberPlus-NoteTweaker
    with:
      id: qbeatsaberplus-notetweaker
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/hardcpp/QBeatSaberPlus-NoteTweaker.git
      branch: master
      install: false
      installed_mods: '["chatplex-sdk-bs"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-qonsistentsabercolors:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: QonsistentSaberColors
    with:
      id: qonsistentsabercolors
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/kodenamekrak/QonsistentSaberColors.git
      branch: master
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-Qounters:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Qounters++
    with:
      id: Qounters
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/Qounters.git
      branch: main
      install: false
      qmod_command: pwsh ./scripts/createqmod.ps1
      installed_mods: '["bsml","metacore","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-QuestSounds:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: QuestSounds
    with:
      id: QuestSounds
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/EnderdracheLP/QuestSounds.git
      branch: master
      install: false
      build_command: pwsh ./build.ps1
      qmod_command: qpm qmod zip --skip_build -i build -i extern/libs -i Examples
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-RandomSongPicker:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: RandomSongPicker
    with:
      id: RandomSongPicker
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Tatenshi/RandomSongPicker.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-RecentlyPlayed:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: RecentlyPlayed
    with:
      id: RecentlyPlayed
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Tatenshi/RecentlyPlayed.git
      branch: main
      install: false
      installed_mods: '["bsml","metacore","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-redbar:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: RedBar
    with:
      id: redbar
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/vcmikuu/Red-bar.git
      branch: master
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-replay:
    needs:
      - get-mods
      - bump-bsml
      - bump-hollywood
      - bump-metacore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Replay
    with:
      id: replay
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/Replay.git
      branch: master
      install: false
      installed_mods: '["bsml","hollywood","metacore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-scorepercentage:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Score Percentage
    with:
      id: scorepercentage
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Royston1999/ScorePercentage-Quest.git
      branch: main
      install: false
      build_command: pwsh ./build.ps1
      installed_mods: '["bsml","metacore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-slicedetails:
    needs:
      - get-mods
      - bump-bsml
      - bump-lapiz
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Slice Details
    with:
      id: slicedetails
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Royston1999/SliceDetails-Quest.git
      branch: main
      install: false
      build_command: pwsh ./build.ps1
      installed_mods: '["bsml","lapiz"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-SmallQubes:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: SmallQubes
    with:
      id: SmallQubes
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/NSGolova/SmallQubes.git
      branch: master
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-smoothedcontroller:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Smoothed Controller
    with:
      id: smoothedcontroller
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/FrozenAlex/SmoothedController.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-songchartvisualizer:
    needs:
      - get-mods
      - bump-bsml
      - bump-lapiz
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: SongChartVisualizer
    with:
      id: songchartvisualizer
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/kodenamekrak/SongChartVisualizer.git
      branch: master
      install: false
      installed_mods: '["bsml","lapiz"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-songdownloader:
    needs:
      - get-mods
      - bump-bsml
      - bump-playlistcore
      - bump-songcore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: SongDownloader
    with:
      id: songdownloader
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/darknight1050/SongDownloader.git
      branch: master
      install: false
      installed_mods: '["bsml","playlistcore","songcore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-songrankedbadge:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: SongRankedBadge
    with:
      id: songrankedbadge
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/kodenamekrak/SongRankedBadge.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-stream-mod:
    needs:
      - get-mods
      - bump-bsml
      - bump-hollywood
      - bump-metacore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: BeatStreamer
    with:
      id: stream-mod
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/StreamMod.git
      branch: main
      install: false
      installed_mods: '["bsml","hollywood","metacore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-too-many-fireworks:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: TooManyFireworks
    with:
      id: too-many-fireworks
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/CatsaCode/TooManyFireworks.git
      branch: main
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-transitions:
    needs:
      - get-mods
      - bump-bsml
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Transitions
    with:
      id: transitions
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/Transitions.git
      branch: master
      install: false
      installed_mods: '["bsml"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-tricksaber-lite:
    needs:
      - get-mods
      - bump-bsml
      - bump-metacore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: TrickSaber Lite
    with:
      id: tricksaber-lite
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/vcmikuu/TrickSaber-Lite.git
      branch: main
      install: false
      installed_mods: '["bsml","metacore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  bump-unicode:
    needs:
      - get-mods
      - bump-metacore
    uses: ./.github/workflows/bump-reusable.yml
    secrets: inherit
    name: Unicode
    with:
      id: unicode
      game_version: ${{ needs.get-mods.outputs.packageVersion }}
      bs_cordl: ${{ needs.get-mods.outputs.bs-cordl }}
      newest_mods: ${{ needs.get-mods.outputs.newestDependencies }}
      repo: https://github.com/Metalit/UnicodeQuest.git
      branch: main
      install: false
      qmod_command: pwsh ./scripts/createqmod.ps1
      installed_mods: '["metacore"]'
      force_build: ${{ inputs.type == 'Bump All Mods' && true }}
  combine-artifacts:
    needs:
      - bump-AntiVertigo
      - bump-anytext
      - bump-BeatLeader
      - bump-BeatTogether
      - bump-BetterSongSearch
      - bump-bomb-qolorer
      - bump-bsl
      - bump-bsml
      - bump-BSNightcoreQuest
      - bump-bts-yeeter
      - bump-camera-utils
      - bump-chatplex-sdk-bs
      - bump-chroma
      - bump-ClockMod
      - bump-crashreporter
      - bump-custom-json-data
      - bump-custommodels
      - bump-datakeeper
      - bump-DlcSorter
      - bump-emulator-fpfc
      - bump-FakeId
      - bump-FasterScroll
      - bump-graphicstweaks
      - bump-HitScoreVisualizer
      - bump-HitsoundTweaqs
      - bump-hollywood
      - bump-imagecoverexpander
      - bump-IntroSkip
      - bump-jdfixer
      - bump-lapiz
      - bump-MappingExtensions
      - bump-metacore
      - bump-mod-list
      - bump-morebuttons
      - bump-multiplayer-core
      - bump-NoodleExtensions
      - bump-NoPromo
      - bump-Nya
      - bump-particletuner
      - bump-Play3rdPer
      - bump-playlistcore
      - bump-playlistdownloader
      - bump-playlistmanager
      - bump-qbeatsaberplus-gametweaker
      - bump-qbeatsaberplus-menumusic
      - bump-qbeatsaberplus-notetweaker
      - bump-qonsistentsabercolors
      - bump-Qounters
      - bump-QuestSounds
      - bump-RandomSongPicker
      - bump-RecentlyPlayed
      - bump-redbar
      - bump-replay
      - bump-scorepercentage
      - bump-slicedetails
      - bump-SmallQubes
      - bump-smoothedcontroller
      - bump-songchartvisualizer
      - bump-songcore
      - bump-songdownloader
      - bump-songrankedbadge
      - bump-stream-mod
      - bump-too-many-fireworks
      - bump-tracks
      - bump-transitions
      - bump-tricksaber-lite
      - bump-unicode
    runs-on: ubuntu-latest
    steps:
      - name: Download artifacts
        uses: actions/download-artifact@v4
        with:
          path: artifacts
          pattern: qmod_*
      - name: Move QMODs to root
        run: find artifacts -type f -name '*.qmod' -exec mv {} . \;
      - name: Upload combined artifact
        uses: actions/upload-artifact@v4
        with:
          name: all_qmods
          path: "*.qmod"
  clear-cache-end:
    runs-on: ubuntu-latest
    if: always()
    needs:
      - bump-AntiVertigo
      - bump-anytext
      - bump-BeatLeader
      - bump-BeatTogether
      - bump-BetterSongSearch
      - bump-bomb-qolorer
      - bump-bsl
      - bump-bsml
      - bump-BSNightcoreQuest
      - bump-bts-yeeter
      - bump-camera-utils
      - bump-chatplex-sdk-bs
      - bump-chroma
      - bump-ClockMod
      - bump-crashreporter
      - bump-custom-json-data
      - bump-custommodels
      - bump-datakeeper
      - bump-DlcSorter
      - bump-emulator-fpfc
      - bump-FakeId
      - bump-FasterScroll
      - bump-graphicstweaks
      - bump-HitScoreVisualizer
      - bump-HitsoundTweaqs
      - bump-hollywood
      - bump-imagecoverexpander
      - bump-IntroSkip
      - bump-jdfixer
      - bump-lapiz
      - bump-MappingExtensions
      - bump-metacore
      - bump-mod-list
      - bump-morebuttons
      - bump-multiplayer-core
      - bump-NoodleExtensions
      - bump-NoPromo
      - bump-Nya
      - bump-particletuner
      - bump-Play3rdPer
      - bump-playlistcore
      - bump-playlistdownloader
      - bump-playlistmanager
      - bump-qbeatsaberplus-gametweaker
      - bump-qbeatsaberplus-menumusic
      - bump-qbeatsaberplus-notetweaker
      - bump-qonsistentsabercolors
      - bump-Qounters
      - bump-QuestSounds
      - bump-RandomSongPicker
      - bump-RecentlyPlayed
      - bump-redbar
      - bump-replay
      - bump-scorepercentage
      - bump-slicedetails
      - bump-SmallQubes
      - bump-smoothedcontroller
      - bump-songchartvisualizer
      - bump-songcore
      - bump-songdownloader
      - bump-songrankedbadge
      - bump-stream-mod
      - bump-too-many-fireworks
      - bump-tracks
      - bump-transitions
      - bump-tricksaber-lite
      - bump-unicode
    steps:
      - name: Delete all shared caches
        env:
          GH_TOKEN: ${{ github.token }}
          REPO: ${{ github.repository }}
        run: |-
          gh api -H "Accept: application/vnd.github+json" \
            /repos/$REPO/actions/caches \
            --paginate \
            -q '.actions_caches[] | select(.key | startswith("shared-${{ github.run_id }}-")) | .id' |

          while read cache_id; do
            echo "Deleting cache id $cache_id"
            gh api --method DELETE "/repos/$REPO/actions/caches/$cache_id"
          done

